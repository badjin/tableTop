(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{219:function(e,t,s){},252:function(e,t){},254:function(e,t){},267:function(e,t){},269:function(e,t){},297:function(e,t){},299:function(e,t){},300:function(e,t){},305:function(e,t){},307:function(e,t){},326:function(e,t){},338:function(e,t){},341:function(e,t){},471:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(36),n=s.n(c),r=(s(219),s(220),s(9)),i=s(4),l=s(17),o=s.n(l),d=s(27),m=s(2),b=s(19),j=s(5),u=s(6),x=s(13),h=s.n(x),f=s(39),p="login_success",g="login_failure",O="logout_success",y="getdata_success",v="send_activation_email",N="send_activation_email_failure",w="activation_user",k="activation_user_failure",C=s(72),S=s.n(C),L=function(e,t){var s,a;s="token",a=e.token,"undefiend"!==window&&S.a.set(s,a,{expires:1}),function(e,t){"undefined"!==window&&localStorage.setItem(e,JSON.stringify(t))}("user",e.user.id),t()},_=function(){if("undefined"===window)return!1;var e=function(e){if("undefined"!==window)return S.a.get(e)}("token"),t=localStorage.getItem("user");return!(!e||!t)&&{id:JSON.parse(t),token:e}},P=function(){var e;e="token","undefined"!==window&&S.a.remove(e,{expires:1}),function(e){"undefined"!==window&&localStorage.removeItem(e)}("user")},I="getusers_success",M="getusers_failure",B="getSettings_success",D="getSettings_failure",E="setSettings_success",A="setSettings_failure",z=function(){return function(e){return new Promise((function(t,s){h.a.get("".concat("http://localhost:5000/api","/settings")).then((function(s){e({type:B,payload:s.data.settings}),t(s.data.settings)})).catch((function(t){e({type:D}),s(t)}))}))}},T="get_boardgames_success",q="get_boardgames_failure",G="get_mylist_success",F="get_list_failure",R="get_detail_success",W="get_detail_failure",U="set_game",H="add_game_success",V="add_game_failure",Z="remove_game_success",J="remove_game_failure",Y="reset_mylist",K="set_mylist",$="get_playlog_success",Q="get_playlog_failure",X="add_playlog_success",ee="add_playlog_failure",te="remove_playlog_success",se="remove_playlog_failure",ae="set_playlogs",ce=function(){return function(e){return new Promise((function(t,s){h()("https://api.boardgameatlas.com/api/search?limit=96&client_id=".concat("KGbexBtHW9 #for bgLab")).then((function(s){e({type:T,payload:s.data.games}),t(s.data.games)})).catch((function(t){e({type:q}),s(t)}))}))}},ne=function(e){return function(t){return new Promise((function(s){t({type:U,payload:e}),s(!0)}))}},re=function(){var e=_(),t=e.id,s=e.token;return function(e){return new Promise((function(a,c){h.a.get("".concat("http://localhost:5000/api","/games/").concat(t),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){e({type:G,payload:t.data}),a(t.data.gameList)})).catch((function(t){e({type:F}),c(t)}))}))}},ie=function(){var e=_(),t=e.id,s=e.token;return function(e){return new Promise((function(a,c){h.a.get("".concat("http://localhost:5000/api","/games/logs/").concat(t),{headers:{Authorization:"Bearer ".concat(s)}}).then((function(t){e({type:$,payload:t.data.logs}),a(t.data.logs)})).catch((function(t){e({type:Q}),c(t)}))}))}},le=function(e,t){var s=_(),a=s.id,c=s.token;return function(s){return new Promise((function(n,r){h.a.post("".concat("http://localhost:5000/api","/games/logs/").concat(t?"update":"add"),{id:a,log:e},{headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){s({type:X,payload:e.data}),n(e.data.logs)})).catch((function(e){s({type:ee}),r(e)}))}))}},oe=function(e,t){return function(s){return new Promise((function(a,c){h.a.post("".concat("http://localhost:5000/api","/").concat(t),e).then((function(e){var t,c;s((t=e.data.user.gameList,function(e){return new Promise((function(s){e({type:K,payload:t}),s(!0)}))})),s((c=e.data.user.playLog,function(e){return new Promise((function(t){e({type:ae,payload:c}),t(!0)}))})),s({type:p,payload:e.data}),a(e.data)})).catch((function(e){s(function(e){return{type:g,payload:e}}(e.response.data)),c(e.response.data.error)}))}))}},de=function(){return function(e){return new Promise((function(t){_()&&(P(),e({type:O}),e({type:M}),e((function(e){e({type:Y})})),t(!0))}))}},me="set_bg_images",be="set_current_bg_image",je=function(e){return function(t){return new Promise((function(s,a){h.a.get("https://api.unsplash.com/search/photos/?query=".concat(e,"&per_page=20&client_id=").concat("VEezH7-VejZMVWIU6_1nFq4wOhYvfAebMtu-dLJTKsg")).then((function(e){e.data.total?(t({type:me,payload:e.data.results}),s(e.data.results)):a("No result from the api. Please try again with another keyword.")})).catch((function(e){a(e)}))}))}},ue=function(e){return{type:be,payload:e}},xe=s(49),he=s(0),fe=function(e){var t=e.component,s=Object(xe.a)(e,["component"]),a=Object(j.c)((function(e){return e.user.isLogin}));return Object(he.jsx)(b.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return a?Object(he.jsx)(t,Object(i.a)({},e)):Object(he.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},pe=function(e){var t=e.component,s=Object(xe.a)(e,["component"]),a=Object(j.c)((function(e){return e.user}));return Object(he.jsx)(b.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return a.isLogin&&"admin"===a.userData.role?Object(he.jsx)(t,Object(i.a)({},e)):Object(he.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))},ge=function(e){var t=e.component,s=Object(xe.a)(e,["component"]),a=Object(j.c)((function(e){return e.user.isLogin}));return Object(he.jsx)(b.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return a?Object(he.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}}):Object(he.jsx)(t,Object(i.a)({},e))}}))},Oe=s(23),ye=function(e){var t=e.filedName,s=e.type;return Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)("p",{className:"text-sm text-red-500 pl-2 -mb-4",children:[" ",function(e){var s="";switch(e){case"required":s="This ".concat(t," field is required");break;case"minLength":s="This filed name must have at least ".concat("password"===t?"8":"3"," characters");break;case"pattern":s="Please provide a valid ".concat(t);break;case"validate":s="The passwords do not match";break;default:s="Please provide a right value"}return s}(s)]})})},ve=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.bgImage.bgImages})),s=Object(j.c)((function(e){return e.bgImage.currentBgImage})),c=Object(b.h)(),n=Object(a.useState)(""),r=Object(m.a)(n,2),i=r[0],l=r[1];return Object(a.useEffect)((function(){for(var a="";a=t[Math.floor(20*Math.random())].urls.regular,s===a;);e(ue(a)),l(a)}),[c]),Object(he.jsx)(he.Fragment,{children:i&&Object(he.jsx)("div",{className:"w-full bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(i,")")},children:Object(he.jsx)("div",{className:"flex flex-col justify-end h-full bg-indigo-900 bg-opacity-30",children:Object(he.jsx)("h1",{className:"p-12 text-left text-xl text-gray-100",children:"Make your own game diary and keep your memories with your friends or family."})})})})},Ne=function(){var e=Object(j.b)(),t=Object(Oe.a)(),s=t.register,c=t.handleSubmit,n=t.watch,i=t.errors,l=Object(a.useRef)();l.current=n("password");return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:Object(he.jsx)(ve,{})}),Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Sign Up"}),Object(he.jsx)("div",{className:"w-full flex-1 my-4 text-indigo-500",children:Object(he.jsxs)("form",{className:"mx-auto max-w-xs relative",onSubmit:c((function(t){var s;e((s=t,function(e){return new Promise((function(t,a){h.a.post("".concat("http://localhost:5000/api","/register"),s).then((function(s){e({type:v}),t(s.data.message)})).catch((function(t){e({type:N}),a(t.response.data.error)}))}))})).then((function(e){return u.b.success(e)})).catch((function(e){u.b.error(e)}))})),children:[Object(he.jsx)("input",{name:"name",className:"input-field",type:"text",placeholder:"Name",ref:s({required:!0,minLength:3})}),i.name&&Object(he.jsx)(ye,{filedName:"name",type:i.name.type}),Object(he.jsx)("input",{name:"email",className:"input-field mt-5",type:"email",placeholder:"Email",ref:s({required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),!i.name&&i.email&&Object(he.jsx)(ye,{filedName:"email",type:i.email.type}),Object(he.jsx)("input",{name:"password",className:"input-field mt-5",type:"password",placeholder:"Password",ref:s({required:!0,minLength:8})}),!i.name&&!i.email&&i.password&&Object(he.jsx)(ye,{filedName:"password",type:i.password.type}),Object(he.jsx)("input",{name:"ConfirmPpassword",className:"input-field mt-5",type:"password",placeholder:"Confirm Password",ref:s({required:!0,validate:function(e){return e===l.current}})}),!i.name&&!i.email&&!i.password&&i.ConfirmPpassword&&Object(he.jsx)(ye,{filedName:"confirm password",type:i.ConfirmPpassword.type}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-user-plus fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Sign Up"})]}),Object(he.jsx)("div",{className:"my-2 border-b text-center",children:Object(he.jsx)("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:"Or sign with email or social login"})}),Object(he.jsx)("div",{className:"flex flex-col items-center",children:Object(he.jsxs)(r.b,{className:"btn-shadow mt-5",to:"/login",target:"_self",children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500"}),Object(he.jsx)("span",{className:"ml-4",children:"Sign In"})]})})]})})]})})]})},we=s(205),ke=s.n(we);var Ce=function(e){var t=e.match,s=e.history,c=Object(j.b)(),n=Object(a.useState)({name:"",token:""}),r=Object(m.a)(n,2),l=r[0],o=r[1];Object(a.useEffect)((function(){var e=t.params.token,s=ke.a.decode(e).name;e&&o(Object(i.a)(Object(i.a)({},l),{},{name:s,token:e}))}),[]);var d=l.name,b=l.token;return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsxs)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:["Welcome ",d]}),Object(he.jsxs)("form",{className:"w-full flex-1 my-8 text-indigo-500",onSubmit:function(e){var t;e.preventDefault(),c((t={token:b},function(e){return new Promise((function(s,a){h.a.post("".concat("http://localhost:5000/api","/activation"),t).then((function(t){e({type:w,payload:t.data}),s(t.data)})).catch((function(t){e({type:k,payload:t.response.data}),a(t.response.data.error)}))}))})).then((function(e){return function(e){L(e,(function(){u.b.success(e.message),e.isLogin&&"admin"===e.user.role?s.push("/admin"):s.push("/")}))}(e)})).catch((function(e){return u.b.error(e)}))},children:[Object(he.jsx)("div",{className:"mx-auto max-w-xs relative ",children:Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-user-plus fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Activate"})]})}),Object(he.jsx)("div",{className:"my-6 border-b text-center",children:Object(he.jsx)("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:"Or sign up again"})}),Object(he.jsx)("div",{className:"flex flex-col items-center",children:Object(he.jsxs)("a",{className:"btn-shadow mt-5",href:"/register",target:"_self",children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500"}),Object(he.jsx)("span",{className:"ml-4",children:"Sign Up"})]})})]})]})}),Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:Object(he.jsx)(ve,{})})]})},Se=s(206),Le=s.p+"static/media/google-icon.a45b46e9.svg",_e=function(){var e=Object(j.b)(),t=Object(b.g)(),s=Object(Oe.a)(),a=s.register,c=s.handleSubmit,n=s.errors,i=function(e){L(e,(function(){u.b.success("Hey ".concat(e.user.name,", Welcome back!")),e.user.gameList.length?t.push("/games/mylist"):t.push("/")}))},l=function(t){e(oe({idToken:t.tokenId},"googlelogin")).then((function(e){return i(e)})).catch((function(e){return u.b.error(e)}))};return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Sign In"}),Object(he.jsxs)("div",{className:"w-full flex-1 my-6 text-indigo-500",children:[Object(he.jsxs)("div",{className:"flex flex-col items-center",children:[Object(he.jsx)(Se.GoogleLogin,{clientId:"".concat("114780466423-0ve00ba7e7hlm0cfhiv95kqha5mtliat.apps.googleusercontent.com"),onSuccess:l,onFailure:l,cookiePolicy:"single_host_origin",render:function(e){return Object(he.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,className:"btn-shadow",children:[Object(he.jsx)("img",{className:"h-6 w-6 mr-1",src:Le,alt:"GoogleLogo"}),Object(he.jsx)("span",{className:"ml-4",children:"Sign In with Google"})]})}}),Object(he.jsxs)("a",{className:"btn-shadow mt-5",href:"/register",target:"_self",children:[Object(he.jsx)("i",{className:"fas fa-user-plus fa 1x w-6 -ml-2 text-indigo-500"}),Object(he.jsx)("span",{className:"ml-4",children:"Sign Up"})]})]}),Object(he.jsx)("div",{className:"my-6 border-b text-center",children:Object(he.jsx)("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:"Or sign In with e-mail"})}),Object(he.jsxs)("form",{className:"mx-auto max-w-xs relative",onSubmit:c((function(t){e(oe(t,"login")).then((function(e){return i(e)})).catch((function(e){return u.b.error(e)}))})),children:[Object(he.jsx)("input",{name:"email",className:"input-field mt-4",type:"email",placeholder:"Email",ref:a({required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),n.email&&Object(he.jsx)(ye,{filedName:"email",type:n.email.type}),Object(he.jsx)("input",{name:"password",className:"input-field mt-5",type:"password",placeholder:"Password",ref:a({required:!0,minLength:8})}),!n.email&&n.password&&Object(he.jsx)(ye,{filedName:"password",type:n.password.type}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt  w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Sign In"})]}),Object(he.jsx)(r.b,{to:"/users/password/forget",className:"no-underline hover:underline text-indigo-500 text-md text-right absolute right-0  mt-2",children:"Forget password?"})]})]})]})}),Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:Object(he.jsx)(ve,{})})]})},Pe=function(){var e=Object(Oe.a)(),t=e.register,s=e.handleSubmit,a=e.errors;return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:Object(he.jsx)(ve,{})}),Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Forget Password"}),Object(he.jsx)("div",{className:"w-full flex-1 my-8 text-indigo-500",children:Object(he.jsxs)("form",{className:"mx-auto max-w-xs relative ",onSubmit:s((function(e){h.a.post("".concat("http://localhost:5000/api","/forgotpassword"),e).then((function(e){u.b.success(e.data.message)})).catch((function(e){u.b.error(e.response.data.error)}))})),children:[Object(he.jsx)("input",{name:"email",className:"input-field mt-4",type:"email",placeholder:"Email",ref:t({required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),a.email&&Object(he.jsx)(ye,{filedName:"email",type:a.email.type}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt  w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Submit"})]})]})})]})})]})},Ie=function(e){var t=e.match,s=e.history,c=Object(a.useState)(""),n=Object(m.a)(c,2),r=n[0],i=n[1],l=Object(Oe.a)(),o=l.register,d=l.handleSubmit,b=l.watch,j=l.errors,x=Object(a.useRef)();x.current=b("password");return Object(a.useEffect)((function(){var e=t.params.token;e&&i(e)}),[]),Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Reset Your Password"}),Object(he.jsx)("div",{className:"w-full flex-1 my-8 text-indigo-500",children:Object(he.jsxs)("form",{className:"mx-auto max-w-xs relative ",onSubmit:d((function(e){h.a.put("".concat("http://localhost:5000/api","/resetpassword"),{newPassword:e.password,resetPasswordToken:r}).then((function(e){u.b.success(e.data.message),s.push("/login")})).catch((function(e){u.b.error(e.response.data.error)}))})),children:[Object(he.jsx)("input",{name:"password",className:"input-field mt-5",type:"password",placeholder:"Password",ref:o({required:!0,minLength:8})}),j.password&&Object(he.jsx)(ye,{filedName:"password",type:j.password.type}),Object(he.jsx)("input",{name:"ConfirmPpassword",className:"input-field mt-5",type:"password",placeholder:"Confirm Password",ref:o({required:!0,validate:function(e){return e===x.current}})}),!j.password&&j.ConfirmPpassword&&Object(he.jsx)(ye,{filedName:"confirm password",type:j.ConfirmPpassword.type}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt  w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Submit"})]})]})})]})}),Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:Object(he.jsx)(ve,{})})]})},Me=function(e){var t=e.title,s=e.confirmClick,a=e.cancelClick;return Object(he.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:Object(he.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(he.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:Object(he.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(he.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(he.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[Object(he.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(he.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(he.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(he.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(he.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(he.jsxs)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:["Delete \xa0\xa0",Object(he.jsx)("span",{className:"text-indigo-700 font-bold",children:t}),"'s  \xa0 account"]}),Object(he.jsx)("div",{className:"mt-2",children:Object(he.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this account? All related data will be permanently removed. This action cannot be undone."})})]})]})}),Object(he.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[Object(he.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:s,children:"Delete"}),Object(he.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:a,children:"Cancel"})]})]})]})})},Be=function(e){var t=e.title,s=e.btn,a=e.message,c=e.confirmClick,n=e.cancelClick;return Object(he.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:Object(he.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(he.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:Object(he.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(he.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(he.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[Object(he.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(he.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(he.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(he.jsx)("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),Object(he.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(he.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:t}),Object(he.jsx)("div",{className:"mt-2",children:Object(he.jsx)("p",{className:"text-sm text-gray-500",children:a})})]})]})}),Object(he.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[Object(he.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:c,children:s}),Object(he.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:n,children:"Cancel"})]})]})]})})},De=function(e){var t=e.totalPages,s=e.pageNumber,c=e.onSetPageNumber,n=new Array(t).fill(null).map((function(e,t){return t})),r=parseInt("5"),i=Object(a.useState)(0),l=Object(m.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)(parseInt("5")),j=Object(m.a)(b,2),u=j[0],x=j[1];return Object(he.jsxs)("div",{className:"text-gray-400 flex items-center space-x-2 justify-center",children:[Object(he.jsx)("button",{className:"h-8 w-8 p-1 rounded ".concat(s!==n[0]&&"hover:bg-gray-700"," "),onClick:function(){c(Math.max(0,s-1)),s%r===0&&(x(u-r),d(o-r))},disabled:s===n[0],children:Object(he.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:Object(he.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Object(he.jsxs)("div",{className:"space-x-1",children:[o>1&&Object(he.jsx)("button",{className:"hover:bg-gray-700  px-2 rounded",onClick:function(){x(u-r),d(o-r)},children:"\u2026"}),n.map((function(e){return e<u&&e>=o&&Object(he.jsx)("button",{className:"hover:bg-gray-700  px-2 rounded ".concat(e===s&&"bg-purple-700 text-purple-200"),onClick:function(){c(e)},children:e+1},e)})),n.length>u&&Object(he.jsx)("button",{className:"hover:bg-gray-700  px-2 rounded",onClick:function(){x(u+r),d(o+r)},children:"\u2026"})]}),Object(he.jsx)("button",{className:"h-8 w-8 p-1 rounded ".concat(s!==n[n.length-1]&&"hover:bg-gray-700"," "),onClick:function(){c(Math.min(t-1,s+1)),s+2>u&&(x(u+r),d(o+r))},disabled:s===n[n.length-1],children:Object(he.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:Object(he.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})},Ee=function(e){var t=e.user,s=e.index,a=e.pageNumber,c=e.onEditBtnClick,n=e.onDeleteBtnClick;return Object(he.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 ".concat(s%2&&"bg-gray-50"),children:[Object(he.jsx)("td",{className:"hidden lg:block py-3 md:px-6 px-3 text-left whitespace-nowrap",children:Object(he.jsx)("div",{className:"flex items-center",children:Object(he.jsx)("span",{className:"font-medium",children:10*a+s+1})})}),Object(he.jsx)("td",{className:"py-3 md:px-6 px-3 text-left",children:Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("div",{className:"mr-2",children:Object(he.jsx)("img",{className:"w-8 h-8 rounded-full",src:"".concat("http://localhost:5000/api/uploads/profiles","/").concat(t.avatar),alt:"Profile"})}),Object(he.jsx)("span",{children:t.name})]})}),Object(he.jsx)("td",{className:"hidden sm:block mt-2 py-3 md:px-6 px-3 text-center",children:Object(he.jsx)("span",{className:"",children:t.email})}),Object(he.jsx)("td",{className:"py-3 md:px-6 text-center",children:Object(he.jsx)("span",{className:"text-gray-100 ".concat({admin:"bg-yellow-600",staff:"bg-green-600",guest:"bg-blue-600",customer:"bg-purple-600"}[t.role]," py-1 px-3 uppercase rounded-full text-xs"),children:t.role})}),Object(he.jsx)("td",{className:"py-3 md:px-6 px-3 text-center",children:Object(he.jsxs)("div",{className:"flex item-center justify-center",children:[Object(he.jsx)("button",{className:"w-4 mr-2 transform hover:text-yellow-500 hover:scale-125 cursor-pointer",onClick:function(){c(s)},children:Object(he.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),"admin"!==t.role&&Object(he.jsx)("button",{className:"w-4 mr-2 transform hover:text-red-500 hover:scale-125 cursor-pointer",onClick:function(){n(t)},children:Object(he.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})},Ae=function(e){var t=e.history,s=Object(j.b)(),c=Object(a.useState)([]),n=Object(m.a)(c,2),r=n[0],i=n[1],l=Object(a.useState)(0),o=Object(m.a)(l,2),d=o[0],b=o[1],x=Object(a.useState)(!1),f=Object(m.a)(x,2),p=f[0],g=f[1],O=Object(a.useState)(""),y=Object(m.a)(O,2),v=y[0],N=y[1],w=Object(a.useState)(0),k=Object(m.a)(w,2),C=k[0],S=k[1];Object(a.useEffect)((function(){var e,t;s((e=C,t=_().token,function(s){return new Promise((function(a,c){h.a.get("".concat("http://localhost:5000/api","/admin/users?page=").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){s({type:I,payload:e.data}),a(e.data)})).catch((function(e){s({type:M}),c(e)}))}))})).then((function(e){i(e.users),b(e.totalPages)})).catch((function(e){return u.b.error(e.response.data.error)}))}),[C]);var L=function(){var e,t;s((e=v,t=_().token,function(s){return new Promise((function(a,c){h.a.post("".concat("http://localhost:5000/api","/admin/delete/"),e,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){s({type:I,payload:e.data}),a(e.data)})).catch((function(e){s({type:M}),c(e)}))}))})).then((function(e){i(e.users),b(e.totalPages),S(0)})).catch((function(e){return u.b.error(e.response.data.error)}))};return Object(he.jsx)("div",{className:"bj-container",children:Object(he.jsxs)("div",{className:"lg:w-full p-3 md:p-6",children:[Object(he.jsx)("div",{className:"flex items-center justify-center bg-white overflow-hidden",children:Object(he.jsx)("div",{className:"w-full ",children:Object(he.jsxs)("div",{className:"bg-white shadow-md rounded my-4",children:[Object(he.jsxs)("table",{className:"min-w-max w-full table-auto",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[Object(he.jsx)("th",{className:"hidden lg:flex items-center py-3 md:px-6 px-3 text-left",children:"ID"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-left",children:"Name"}),Object(he.jsx)("th",{className:"hidden sm:block py-3 md:px-6 px-3 text-center",children:"Email"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-center",children:"Role"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-center",children:"Actions"})]})}),Object(he.jsx)("tbody",{className:"text-gray-600 text-sm font-light",children:r.map((function(e,s){return Object(he.jsx)(Ee,{user:e,index:s,pageNumber:C,onDeleteBtnClick:function(e){N(e),g(!0)},onEditBtnClick:function(e){!function(e){t.push("/admin/users/".concat(e))}(e)}},s)}))})]}),p&&Object(he.jsx)(Me,{title:v.name,confirmClick:function(){L(),g(!1)},cancelClick:function(){return g(!1)}})]})})}),d>1&&Object(he.jsx)(De,{totalPages:d,pageNumber:C,onSetPageNumber:S})]})})},ze=function(e){var t=e.match,s=e.history,c=Object(j.c)((function(e){return e.admin.users[t.params.id]})),n=Object(j.b)(),r=Object(Oe.a)({mode:"onChange",defaultValues:{email:c.email,name:c.name,role:c.role,avatar:""}}),i=r.register,l=r.handleSubmit,o=r.errors,d=r.watch,b=r.formState,x=Object(a.useState)(!1),f=Object(m.a)(x,2),p=f[0],g=f[1],O=Object(a.useState)(c.role),y=Object(m.a)(O,2),v=y[0],N=y[1];Object(a.useRef)().current=d("role"),Object(a.useEffect)((function(){g(b.dirtyFields.name||b.dirtyFields.avatar||b.dirtyFields.role)}),[b]);return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Edit User Information"}),Object(he.jsx)("form",{className:"w-full my-6 flex-1 text-indigo-500",onSubmit:l((function(e){var t,a,r={name:e.name,avatar:e.avatar.length?e.avatar[0].name:"",role:e.role},i=new FormData;i.append("id",c.id),i.append("name",r.name),i.append("password",""),i.append("avatar",r.avatar),i.append("role",r.role),i.append("profileImage",e.avatar[0]),n((t=i,a=_().token,function(e){return new Promise((function(s,c){h.a.put("".concat("http://localhost:5000/api","/admin/update/"),t,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e({type:I,payload:t.data}),s(!0)})).catch((function(t){e({type:M}),c(t)}))}))})).then((function(e){s.push("/admin/users"),u.b.success("Profile Updated Successfully")})).catch((function(e){return u.b.error(e.response.data.error)}))})),children:Object(he.jsxs)("div",{className:"mx-auto max-w-xs",children:[Object(he.jsx)("input",{disabled:!0,className:"input-field text-gray-400",type:"email",placeholder:c.email}),Object(he.jsxs)("div",{className:"flex items-center justify-between mt-5",children:[Object(he.jsxs)("label",{className:"w-32 flex flex-col items-center rounded-lg tracking-wide  cursor-pointer has-tooltip",children:[Object(he.jsx)("img",{className:" w-12 h-12 rounded-full object-cover",src:"".concat("http://localhost:5000/api/uploads/profiles","/").concat(c.avatar),alt:"Profile"}),Object(he.jsx)("span",{className:"tooltip text-center  w-24 text-xs mt-14 bg-gray-600 text-gray-100 px-1 absolute rounded bg-opacity-50 ",children:"Update user's profile image"}),Object(he.jsx)("input",{type:"file",name:"avatar",className:"hidden",accept:"image/*",ref:i})]}),Object(he.jsx)("input",{name:"name",className:"input-field ml-5",type:"text",placeholder:"Name",ref:i({required:!0,minLength:3})})]}),o.name&&Object(he.jsx)(ye,{filedName:"name",type:o.name.type}),Object(he.jsx)("div",{className:"flex items-center justify-center",children:["admin","staff","customer"].map((function(e,t){return Object(he.jsxs)("div",{className:"flex justify-center items-center space-x-2 p-2 mt-5",children:[Object(he.jsx)("input",{className:"tracking-wide cursor-pointer",type:"radio",value:e,checked:v===e,onChange:function(e){return N(e.target.value)},name:"role",ref:i}),Object(he.jsx)("span",{className:"".concat(v===e&&"text-indigo-500"," uppercase text-gray-500"),children:e})]},t)}))}),Object(he.jsxs)("div",{className:"flex justify-between space-x-2",children:[Object(he.jsxs)("button",{type:"submit",disabled:!p,className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-edit fa 1x w-6 ".concat(!p&&"text-gray-400"," -ml-2")}),Object(he.jsx)("span",{className:"ml-3 ".concat(!p&&"text-gray-400"),children:"Update"})]}),Object(he.jsxs)("button",{className:"btn mt-5 bg-pink-500 text-gray-100 hover:bg-pink-700",onClick:function(){s.push("/admin/users")},children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Go to List"})]})]})]})})]})}),Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 hidden lg:flex",children:Object(he.jsx)(ve,{})})]})},Te=function(e){var t=e.history,s=Object(j.c)((function(e){return e.user.userData})),c=Object(j.b)(),n=Object(Oe.a)({mode:"onChange",defaultValues:{email:s.email,name:s.name,password:"",confirmPassword:"",avatar:""}}),r=n.register,i=n.handleSubmit,l=n.watch,o=n.errors,d=n.setValue,b=n.clearErrors,x=n.reset,f=n.formState,p=Object(a.useState)(!1),g=Object(m.a)(p,2),O=g[0],v=g[1],N=Object(a.useState)(!1),w=Object(m.a)(N,2),k=w[0],C=w[1],S=Object(a.useRef)();S.current=l("password"),Object(a.useEffect)((function(){var e=!(!f.dirtyFields.name&&!f.dirtyFields.avatar),t=!!S.current,s=f.errors.password||f.errors.confirmPassword;v(e||t&&!s)}),[f]);return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 hidden lg:flex",children:Object(he.jsx)(ve,{})}),Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Profile Update"}),Object(he.jsx)("form",{className:"w-full my-6 flex-1 text-indigo-500",onSubmit:i((function(e){var t={};t=S.current?{name:e.name,avatar:e.avatar.length?e.avatar[0].name:"",password:e.password}:{name:e.name,avatar:e.avatar.length?e.avatar[0].name:"",password:""};var a=new FormData;a.append("id",s.id),a.append("name",t.name),a.append("avatar",t.avatar),a.append("password",t.password),a.append("profileImage",e.avatar[0]),"guest"!==s.role?c(function(e,t){return function(s){return new Promise((function(a,c){h.a.put("".concat("http://localhost:5000/api","/user/update/"),e,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){s({type:y,payload:e.data}),a(!0)})).catch((function(e){c(e)}))}))}}(a,_().token)).then((function(t){C(!1),x(e),u.b.success("Profile Updated Successfully")})).catch((function(e){return u.b.error(e.response.data.error)})):u.b.error("You are logged in as a guest. Please sign up first.")})),children:Object(he.jsxs)("div",{className:"mx-auto max-w-xs",children:[Object(he.jsx)("input",{disabled:!0,className:"input-field text-gray-400",type:"email",placeholder:s.email}),Object(he.jsxs)("div",{className:"flex items-center justify-between mt-5",children:[Object(he.jsxs)("label",{className:"w-32 flex flex-col items-center rounded-lg tracking-wide  cursor-pointer has-tooltip",children:[Object(he.jsx)("img",{className:"w-12 h-12 rounded-full object-cover",src:"".concat("http://localhost:5000/api/uploads/profiles","/").concat(s.avatar),alt:"Profile"}),Object(he.jsx)("span",{className:"tooltip text-center  w-24 text-xs mt-14 bg-gray-600 text-gray-100 px-1 absolute rounded bg-opacity-50 ",children:"Upload your profile image"}),Object(he.jsx)("input",{type:"file",name:"avatar",className:"hidden",accept:"image/*",ref:r})]}),Object(he.jsx)("input",{name:"name",className:"input-field ml-5",type:"text",placeholder:"Name",ref:r({required:!0,minLength:3})})]}),o.name&&Object(he.jsx)(ye,{filedName:"name",type:o.name.type}),!s.googleAccount&&Object(he.jsxs)("button",{className:"btn-shadow mt-5",onClick:function(){d("password",""),d("confirmPassword",""),b("password"),b("ConfirmPassword"),C(!k)},children:[Object(he.jsx)("i",{className:"fas ".concat(k?"fa-unlock":"fa-lock"," fa 1x w-6  -ml-2")}),Object(he.jsx)("span",{className:"ml-3",children:"Password Change"})]}),Object(he.jsx)("input",{name:"password",className:"input-field mt-5 ".concat(!k&&"hidden"),type:"password",placeholder:"Password",ref:r(k?{required:!0,minLength:8}:{})}),!o.name&&o.password&&k&&Object(he.jsx)(ye,{filedName:"password",type:o.password.type}),Object(he.jsx)("input",{name:"confirmPassword",className:"input-field mt-5 ".concat(!k&&"hidden"),type:"password",placeholder:"Confirm Password",ref:r(k?{required:!0,validate:function(e){return e===S.current}}:{})}),!o.name&&!o.password&&o.confirmPassword&&k&&Object(he.jsx)(ye,{filedName:"confirmPassword",type:o.confirmPassword.type}),Object(he.jsxs)("div",{className:"flex justify-between space-x-2",children:[Object(he.jsxs)("button",{type:"submit",disabled:!O,className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-edit fa 1x w-6 ".concat(!O&&"text-gray-400"," -ml-2")}),Object(he.jsx)("span",{className:"ml-3 ".concat(!O&&"text-gray-400"),children:"Update"})]}),Object(he.jsxs)("button",{className:"btn mt-5 bg-pink-500 text-gray-100 hover:bg-pink-700",onClick:function(){t.push("/")},children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Home"})]})]})]})})]})})]})},qe=s(71),Ge=s.n(qe),Fe=function(e){var t=e.game,s=e.isPopular,a=Object(b.g)(),c=Object(j.b)(),n={size:14,value:t.average_user_rating,isHalf:!0,edit:!1};return Object(he.jsxs)("div",{className:"mb-4 mx-6 sm:mx-0 bg-white border-2 border-gray-200 rounded-lg shadow flex flex-col items-center justify-center text-xs relative hover:shadow-lg cursor-pointer",onClick:function(){var e=t.id?t.id:t.gameId;c(ne(t)).then((function(t){t&&a.push("/games/".concat(e))}))},children:[Object(he.jsx)("img",{className:"w-32 h-32 py-2 object-contain",src:t.images.small,alt:"Poster"}),Object(he.jsx)("span",{className:"text-center uppercase text-gray-600 font-bold",children:t.name}),Object(he.jsxs)("div",{className:"flex justify-between space-x-8 mb-2",children:[Object(he.jsx)(Ge.a,Object(i.a)({},n)),Object(he.jsx)("span",{className:"text-gray-400",children:Object(he.jsx)("i",{children:t.year_published})})]}),s?Object(he.jsx)("div",{className:"absolute left-0 top-0 -mt-2 -ml-1 rounded-full border-gray-800 bg-yellow-500 text-gray-800 px-2 py-1",children:t.rank}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("div",{className:"absolute left-0 top-0 -mt-2 -ml-1 rounded-full border-gray-800 bg-yellow-500 text-gray-800 px-2 py-1",children:t.rank}),Object(he.jsx)("div",{className:"".concat(!t.logCount&&"hidden"," absolute right-0 top-0 -mt-2 -mr-1 rounded-full border-gray-800 bg-indigo-500 text-gray-100 px-2 py-1"),children:t.logCount})]})]})},Re=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.boardGames.games})),s=Object(a.useState)(t),c=Object(m.a)(s,2),n=c[0],r=c[1],i=Object(a.useState)(!0),l=Object(m.a)(i,2),o=l[0],d=l[1];return Object(a.useEffect)((function(){t.length?d(!1):e(ce()).then((function(e){r(e),d(!1)})).catch((function(e){d(!1),u.b.error(e)}))}),[]),o?Object(he.jsx)("div",{className:"flex items-center justify-center",children:Object(he.jsx)(f.BeatLoader,{color:"green",loading:o})}):Object(he.jsx)("div",{className:"sm:w-full sm:grid sm:grid-cols-3 lg:grid-cols-6 sm:gap-4",children:n&&n.filter((function(e,t){return t<6})).map((function(e,t){return Object(he.jsx)("div",{className:"",children:Object(he.jsx)(Fe,{game:e})},t)}))})},We=s.p+"static/media/mobileLogo.6e950285.png",Ue=function(e){var t=e.games,s=e.randomClick,c=e.cancelClick,n=Object(a.useState)(!1),r=Object(m.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)([]),d=Object(m.a)(o,2),u=d[0],x=d[1],h=Object(a.useState)(""),f=Object(m.a)(h,2),p=f[0],g=f[1],O=Object(a.useState)(!1),y=Object(m.a)(O,2),v=y[0],N=y[1],w=Object(a.useState)(0),k=Object(m.a)(w,2),C=k[0],S=k[1],L=Object(a.useRef)(null),_=Object(j.b)(),P=Object(a.useState)(Object(j.c)((function(e){return e.boardGames.playLogs}))),I=Object(m.a)(P,2),M=I[0],B=I[1],D=Object(b.g)(),E=function(){l(!0),A(),C<50?(setTimeout((function(){L.current&&L.current.click()}),100),S(C+1)):v?(!function(e){var t=e.id?e.id:e.gameId;_(ne(e)).then((function(e){e&&D.push("/games/".concat(t))}))}(p),s()):(g(T()),N(!0),l(!1))},A=function(){var e=q(5,0,t.length-1).map((function(e,s){return t.find((function(t,s){return s===e}))}));x(e)},z=function(e){M.length||_(ie()).then((function(e){return B(e)}));var t=!1;return M.filter((function(t,s){return t.gameId===e.gameId})).map((function(e,s){return function(e,t){var s=new Date;return s.setHours(0,0,0,0),s.setDate(s.getDate()-s.getDay()),s.setDate(s.getDate()-7*e),t>=s}(2,new Date(e.playDate))&&(t=!0),t})),t},T=function(){var e=Math.floor(Math.random()*t.length);if(!t[e].logCount)return t[e];for(var s=0;z(t[e])&&(e=Math.floor(Math.random()*t.length),t[e].logCount&&!(s>=10));)s++;return t[e]},q=function(e,t,s){for(var a=[],c=0;c<e;c++){for(var n=!0,r=Math.floor(Math.random()*s)+1,i=0;i<s;i++)a[i]===r&&(n=!1);n?a.push(r):c--}for(var l=0,o=0;o<a.length;o++)for(var d=o+1;d<a.length;d++)a[d]<a[o]&&(l=a[o],a[o]=a[d],a[d]=l);return a};return Object(he.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:Object(he.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(he.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:Object(he.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(he.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(he.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[Object(he.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(he.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(he.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(he.jsx)("img",{className:"h-6",src:We,alt:"BoardGameLab"})}),Object(he.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left pt-2",children:[Object(he.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:"Today's Game is..."}),i?Object(he.jsx)("div",{className:"flex items-center justify-center space-x-3 mt-2",children:t&&u.map((function(e,t){return Object(he.jsx)("div",{className:"h-12 w-12 rounded-full border-2 border-gray-500 overflow-hidden mt-2",children:Object(he.jsx)("img",{className:"w-12 h-12",src:e.images.thumb,alt:"Game"})},t)}))}):v?Object(he.jsxs)("div",{className:"flex items-center justify-center space-x-3 mt-2",children:[Object(he.jsx)("div",{className:"h-12 w-12 rounded-full border-2 border-gray-500 overflow-hidden mt-2",children:Object(he.jsx)("img",{className:"w-12 h-12",src:p.images.thumb,alt:"Game"})}),Object(he.jsx)("div",{className:"font-bold mt-1",children:p.name})]}):Object(he.jsx)("div",{className:"mt-2",children:Object(he.jsx)("p",{className:"text-sm text-gray-500",children:"We randomly recommend a game that you will enjoy today. Please Click Random button."})})]})]})}),Object(he.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[Object(he.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){return E()},ref:L,children:v?"Today's Pick":"Random"}),Object(he.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){return S(50),l(!1),void c()},children:"Cancel"})]})]})]})})},He=function(){var e=Object(j.b)(),t=Object(b.g)(),s=Object(j.c)((function(e){return e.bgImage.bgImages})),c=Object(j.c)((function(e){return e.bgImage.currentBgImage})),n=Object(j.c)((function(e){return e.boardGames.myList})),i=Object(a.useState)(""),l=Object(m.a)(i,2),o=l[0],d=l[1],x=Object(a.useState)(!1),h=Object(m.a)(x,2),f=h[0],p=h[1];Object(a.useEffect)((function(){for(var t="";t=s[Math.floor(20*Math.random())].urls.regular,c===t;);e(ue(t)),d(t)}),[]);return Object(he.jsx)("div",{className:"max-w-screen-xl m-0 lg:m-10 bg-white shadow lg:rounded-lg",children:o&&Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:"flex flex-col sm:flex-row items-center p-10",children:[Object(he.jsxs)("div",{className:"sm:w-1/2 px-5",children:[Object(he.jsx)("h2",{className:"text-4xl text-gray-500 mb-6",children:"Welcome"}),Object(he.jsx)("p",{children:"For you who are tired of your daily life, we recommend a board game to play with your family or friends. Don't think about what to play among the games you have. Sign up now and make your own game list right away. And get recommendations."}),Object(he.jsx)("div",{className:"my-3 mb-4 flex items-center justify-center",children:_()?Object(he.jsx)("button",{className:"btn-round text-red-400 border-red-400 hover:bg-red-400 focus:outline-none",onClick:function(){n.length<5?u.b.error("The number of games on the list must be at least 5."):p(!0)},children:"Random Pick"}):Object(he.jsx)("button",{className:"btn-round text-secondary-100 border-secondary-100 hover:bg-secondary-100 focus:outline-none",onClick:function(){e(oe({email:"guest@gmail.com",password:"password"},"login")).then((function(e){return function(e){L(e,(function(){u.b.success("Hey ".concat(e.user.name,", Welcome back!")),t.push("/")}))}(e)})).catch((function(e){return u.b.error(e)}))},children:"Guest Login"})})]}),Object(he.jsx)("div",{className:"sm:w-1/2 overflow-hidden",children:Object(he.jsx)("img",{className:"w-full max-h-80 object-cover bg-cover bg-center bg-no-repeat rounded",src:o,alt:"Welcome"})})]}),Object(he.jsxs)("div",{className:"px-10",children:[Object(he.jsx)("h2",{className:"text-4xl text-gray-500 px-5",children:"Popular Board games"}),Object(he.jsx)("p",{className:"px-5 mb-6",children:"These are the most popular board games widely loved by the community in terms of consistency in game page visits, number of ratings, mentions, and other criteria."}),Object(he.jsx)(Re,{}),Object(he.jsx)("div",{className:"flex items-center justify-center mb-4",children:Object(he.jsx)(r.b,{to:"/games",className:"btn-text text-sm",children:"See More"})})]}),f&&Object(he.jsx)(Ue,{games:n,randomClick:function(){p(!1)},cancelClick:function(){return p(!1)}})]})})},Ve=s.p+"static/media/express.b44f5a4b.png",Ze=s.p+"static/media/mongodb.41634622.png",Je=s.p+"static/media/redux.c120994a.png",Ye=s.p+"static/media/tailwindcss.f6465245.png",Ke=s.p+"static/media/unsplash.66f47617.webp",$e=s.p+"static/media/atlas.027eec76.png",Qe=function(){return Object(he.jsxs)("div",{className:"bj-container w-full sm:w-4/5",children:[Object(he.jsx)("div",{className:"w-full lg:w-1/2 p-3",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col px-8 items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"About"}),Object(he.jsxs)("div",{className:"w-full  my-6 text-gray-500",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between uppercase border-b-2 py-2 mb-2",children:[Object(he.jsx)("span",{children:"Server"}),Object(he.jsx)("span",{children:"Client"})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsxs)("div",{className:"",children:[Object(he.jsx)("i",{className:"fab fa-node w-8"}),Object(he.jsx)("span",{children:"NodeJS"})]}),Object(he.jsx)("div",{className:"hidden sm:block sm:w-1/3 text-center ml-7",children:Object(he.jsx)("span",{children:"Language"})}),Object(he.jsxs)("div",{className:"",children:[Object(he.jsx)("span",{children:"Javascript"}),Object(he.jsx)("i",{className:"fab fa-js-square w-4 ml-3"})]})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("img",{className:"w-4 h-4 mr-4",src:Ve,alt:"Express"}),Object(he.jsx)("span",{children:"Express"})]}),Object(he.jsx)("div",{className:"hidden sm:block sm:w-1/3 text-center",children:Object(he.jsx)("span",{children:"Framework"})}),Object(he.jsxs)("div",{className:"",children:[Object(he.jsx)("span",{children:"React"}),Object(he.jsx)("i",{className:"fab fa-react w-4 ml-3"})]})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("img",{className:"w-4 h-4 mr-4",src:Ze,alt:"Express"}),Object(he.jsx)("span",{children:"MongoDB"})]}),Object(he.jsx)("div",{className:"hidden sm:block sm:w-1/3 text-center",children:Object(he.jsx)("span",{children:"DB / State"})}),Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("span",{children:"Redux"}),Object(he.jsx)("img",{className:"w-4 h-4 ml-3",src:Je,alt:"Express"})]})]}),Object(he.jsx)("div",{className:"flex items-center justify-end mb-2",children:Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("span",{children:"CSS: TailwindCss"}),Object(he.jsx)("img",{className:"w-4 h-4 ml-3",src:Ye,alt:"Express"})]})}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsx)("div",{className:"",children:Object(he.jsx)("span",{children:"NodeMailer"})}),Object(he.jsx)("div",{className:"hidden sm:block sm:w-1/3 text-center",children:Object(he.jsx)("span",{children:"Mailing"})}),Object(he.jsx)("div",{className:"",children:Object(he.jsx)("span",{children:"emailJS"})})]})]}),Object(he.jsxs)("div",{className:"w-full mb-1 text-gray-500",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between uppercase border-b-2 py-2 mb-2",children:[Object(he.jsx)("span",{children:"Api"}),Object(he.jsx)("span",{children:"Sources"})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsx)("a",{href:"https://unsplash.com",target:"_blank",className:"hover:text-indigo-500",rel:"noopener noreferrer",children:Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("img",{className:"w-4 h-4 mr-4",src:Ke,alt:"Express"}),Object(he.jsx)("span",{children:"Unsplash"})]})}),Object(he.jsxs)("a",{href:"https://github.com/badjin/MERN_Authentication",target:"_blank",className:"hover:text-indigo-500",rel:"noopener noreferrer",children:[Object(he.jsx)("span",{children:"Github"}),Object(he.jsx)("i",{className:"fab fa-github-square  w-4 ml-3"})]})]})]}),Object(he.jsx)("div",{className:"w-full -mt-2 text-gray-500 mb-2",children:Object(he.jsx)("a",{href:"https://www.boardgameatlas.com/",target:"_blank",className:"hover:text-indigo-500",rel:"noopener noreferrer",children:Object(he.jsxs)("div",{className:"flex items-center",children:[Object(he.jsx)("img",{className:"w-4 h-4 mr-4",src:$e,alt:"Express"}),Object(he.jsx)("span",{children:"Board Game Atlas"})]})})})]})}),Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:Object(he.jsx)(ve,{})})]})},Xe=s(207),et=s.n(Xe),tt=function(e){var t=e.history,s=Object(Oe.a)(),a=s.register,c=s.handleSubmit,n=s.errors;return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"bg-indigo-100 text-center hidden lg:flex lg:w-1/2",children:Object(he.jsx)(ve,{})}),Object(he.jsx)("div",{className:"lg:w-1/2 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Contact"}),Object(he.jsx)("div",{className:"w-full flex-1 my-6 text-indigo-500",children:Object(he.jsxs)("form",{className:"mx-auto max-w-xs",onSubmit:c((function(e){et.a.send("service_azkt4cs","template_4944gch",e,"user_4grbFs2aWGRvYV4XyrUJG").then((function(e){u.b.success("Sent your message successfully"),t.push("/")}),(function(e){u.b.error(e.text)}))})),children:[Object(he.jsx)("input",{name:"name",className:"input-field",type:"text",placeholder:"Name",ref:a({required:!0,minLength:3})}),n.name&&Object(he.jsx)(ye,{filedName:"name",type:n.name.type}),Object(he.jsx)("input",{name:"email",className:"input-field mt-5",type:"email",placeholder:"Email",ref:a({required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),!n.name&&n.email&&Object(he.jsx)(ye,{filedName:"email",type:n.email.type}),Object(he.jsx)("textarea",{name:"message",className:"form-textarea mt-5 p-2 rounded-lg border-2  block w-full",rows:"8",placeholder:"Enter your message",ref:a({required:!0,minLenth:8})}),!n.name&&!n.email&&n.message&&Object(he.jsx)(ye,{filedName:"message",type:n.message.type}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-5",children:[Object(he.jsx)("i",{className:"fas fa-envelope fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Send Message"})]})]})})]})})]})},st=s.p+"static/media/logo.cfc9532d.png",at=s.p+"static/media/hamburger.6749b731.png",ct=function(e){var t=e.user,s=e.onLogout,c=Object(a.useState)(!1),n=Object(m.a)(c,2),i=n[0],l=n[1];return Object(a.useEffect)((function(){document.addEventListener("keydown",(function(e){"Esc"!==e.key&&"Escape"!==e.key||l(!1)}))}),[]),Object(he.jsxs)("div",{className:"relative z-10",children:[Object(he.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(he.jsx)("span",{className:"text-gray-600 text-sm",children:t.name}),Object(he.jsx)("button",{className:"relative z-10 h-8 w-8 rounded-full overflow-hidden boder-2 border-gray-600 focus:outline-none focus:border-white transform hover:scale-125 transition duration-300 ease-in-out",onClick:function(){l(!i)},children:Object(he.jsx)("img",{className:"h-full w-full object-cover",src:"".concat("http://localhost:5000/api/uploads/profiles","/").concat(t.avatar),alt:"Profile"})})]}),i&&Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("button",{className:"fixed inset-0 h-full w-full bg-black opacity-50 cursor-default",tabIndex:"-1",onClick:function(){l(!1)}}),Object(he.jsxs)("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-white rounded-lg shadow-xl text-center",children:[Object(he.jsx)(r.b,{to:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-primary hover:text-white border-b-2",onClick:function(){l(!1)},children:"Profile"}),Object(he.jsx)(r.b,{to:"/games/mylist",className:"block px-4 py-2 text-gray-800 hover:bg-primary hover:text-white",onClick:function(){l(!1)},children:"My List"}),Object(he.jsx)(r.b,{to:"/",className:"block px-4 py-2 text-gray-800 hover:bg-primary hover:text-white",onClick:function(){l(!1),s()},children:"Sign out"})]})]})]})},nt=function(e){e.user,e.onLogout;var t=Object(a.useState)(!1),s=Object(m.a)(t,2),c=s[0],n=s[1];return Object(a.useEffect)((function(){document.addEventListener("keydown",(function(e){"Esc"!==e.key&&"Escape"!==e.key||n(!1)}))}),[]),Object(he.jsxs)("div",{className:"relative z-20",children:[Object(he.jsx)("div",{className:"flex items-center space-x-3",children:Object(he.jsx)("button",{className:"py-5 px-3 font-bold text-gray-700 hover:bg-gray-500 hover:text-yellow-200 focus:outline-none uppercase",onClick:function(){n(!c)},children:"Admin"})}),c&&Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("button",{className:"fixed inset-0 h-full w-full bg-black opacity-50 cursor-default",tabIndex:"-1",onClick:function(){n(!1)}}),Object(he.jsx)("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-white rounded-lg shadow-xl",children:Object(he.jsx)(r.b,{to:"/admin/users",className:"block px-4 py-2 text-gray-800 hover:bg-primary hover:text-white",onClick:function(){n(!1)},children:"User Management"})})]})]})},rt=function(){var e=Object(b.g)(),t=Object(j.b)(),s=Object(a.useState)(""),c=Object(m.a)(s,2),n=c[0],r=c[1],i=Object(a.useState)([]),l=Object(m.a)(i,2),u=l[0],x=l[1],f=Object(a.useState)(!1),p=Object(m.a)(f,2),g=p[0],O=p[1],y=function(){var e=Object(d.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()("https://api.boardgameatlas.com/api/search?name=".concat(t,"&limit=5&client_id=").concat("KGbexBtHW9 #for bgLab"));case 3:(s=e.sent).data.games.length&&(O(!0),x(s.data.games)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n?n.length>2&&y(n):O(!1)}),[n]),Object(he.jsxs)("div",{className:"pt-2 relative z-10 mx-auto text-gray-600",children:[Object(he.jsx)("input",{className:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none",type:"search",name:"keyword",placeholder:"Search ...",value:n,onChange:function(e){return r(e.target.value)}}),Object(he.jsx)("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-4 focus:outline-none",children:Object(he.jsx)("svg",{className:"text-gray-600 h-4 w-4 fill-current ",xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{background:"new 0 0 56.966 56.966"},width:"512px",height:"512px",children:Object(he.jsx)("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})})}),g&&Object(he.jsx)("div",{className:"absolute left-0 mt-1 w-full py-2 bg-white rounded-lg shadow-xl flex flex-col items-center justify-center",children:u&&u.map((function(s,a){return Object(he.jsx)("button",{className:"btn-search w-full text-gray-700",onClick:function(){O(!1),r(""),t(ne(s)).then((function(t){t&&e.push("/games/".concat(s.id))}))},children:Object(he.jsxs)("div",{className:"flex items-center justify-between",children:[Object(he.jsxs)("div",{className:"text-left w-4/5",children:[Object(he.jsx)("span",{children:s.name}),Object(he.jsxs)("span",{children:["(",s.year_published,")"]})]}),Object(he.jsx)("div",{className:"h-12 w-12 rounded overflow-hidden",children:Object(he.jsx)("img",{className:"w-12 h-12",src:s.images.thumb,alt:"Thumbnail"})})]})},a)}))})]})},it=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.b)(),s=Object(a.useState)(!1),c=Object(m.a)(s,2),n=c[0],i=c[1],l=Object(b.g)(),o=function(){t(de()).then((function(){i(!1),u.b.success("Signed out Successfully"),l.push("/")}))},d=function(){i(!1)};return Object(a.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth>=768&&i(!1)}))}),[]),Object(he.jsxs)("nav",{className:"sm:h-16 bg-gray-200 font-body",children:[Object(he.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:Object(he.jsxs)("div",{className:"flex justify-between",children:[Object(he.jsxs)("div",{className:"flex space-x-2",children:[Object(he.jsx)("div",{children:Object(he.jsxs)(r.c,{to:"/",exact:!0,className:"flex items-center py-5 px-2 transform hover:scale-125 transition-all duration-300 ease-in-out",children:[Object(he.jsx)("img",{className:"h-6 w-19 mr-1 hidden sm:block",src:st,alt:"BoardGameLab"}),Object(he.jsx)("img",{className:"h-6 w-19 mr-1 sm:hidden",src:We,alt:"BoardGameLab"})]})}),Object(he.jsxs)("div",{className:"hidden sm:flex items-center space-x-1",children:[Object(he.jsx)(r.c,{to:"/games",className:"py-5 px-2 text-gray-500 hover:bg-gray-500 hover:text-gray-100 uppercase text-sm",activeClassName:"active-navbar",children:"Games"}),Object(he.jsx)(r.c,{to:"/about",className:"py-5 px-2 text-gray-500 hover:bg-gray-500 hover:text-gray-100 uppercase text-sm",activeClassName:"active-navbar",children:"About"}),Object(he.jsx)(r.c,{to:"/contact",className:"py-5 px-2 text-gray-500 hover:bg-gray-500 hover:text-gray-100 uppercase text-sm",activeClassName:"active-navbar",children:"Contact"}),e.isLogin&&"admin"===e.userData.role&&Object(he.jsx)(nt,{})]})]}),Object(he.jsx)("div",{className:"mt-1",children:Object(he.jsx)(rt,{})}),Object(he.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:e.isLogin?Object(he.jsx)(ct,{user:e.userData,onLogout:o}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(r.b,{to:"/login",className:"my-2 btn-round text-primary  hover:bg-primary",children:"Sign in"}),Object(he.jsx)(r.b,{to:"/register",className:"my-2 btn-round text-primary  hover:bg-primary",children:"Sign up"})]})}),Object(he.jsx)("div",{className:"md:hidden flex items-center",children:Object(he.jsx)("button",{className:"mobile-menu-button focus:outline-none",onClick:function(){i(!n)},children:n?Object(he.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):Object(he.jsx)("img",{className:"w-6 h-6",src:at,alt:"hamburger"})})})]})}),n&&Object(he.jsxs)("div",{className:"mobile-menu md:hidden flex flex-col items-center justify-start",children:[Object(he.jsx)(r.c,{to:"/games",className:"py-1 px-3 text-gray-500 hover:bg-gray-500 hover:text-gray-100 rounded-full uppercase text-sm",activeClassName:"active-navbar",onClick:d,children:"Games"}),Object(he.jsx)(r.c,{to:"/about",className:"py-1 px-3 text-gray-500 hover:bg-gray-500 hover:text-gray-100 rounded-full uppercase text-sm",activeClassName:"active-navbar",onClick:d,children:"About"}),Object(he.jsx)(r.c,{to:"/contact",className:"mb-2 py-1 px-3 text-gray-500 hover:bg-gray-500 hover:text-gray-100 rounded-full uppercase text-sm",activeClassName:"active-navbar",onClick:d,children:"Contact"}),e.isLogin&&"admin"===e.userData.role&&Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(r.c,{to:"/admin/users",className:"mb-2 py-1 px-3 text-gray-500 hover:bg-primary hover:text-white rounded-full uppercase text-sm",onClick:d,children:"User Management"})}),Object(he.jsx)("div",{className:" mb-2  px-4 py-3 border-t border-gray-800",children:e.isLogin?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[Object(he.jsx)("img",{className:"w-8 h-8 rounded-full object-cover border-2 border-gray-600",src:"".concat("http://localhost:5000/api/uploads/profiles","/").concat(e.userData.avatar),alt:"Profile"}),Object(he.jsx)("span",{className:"text-gray-600 text-sm",children:e.userData.name})]}),Object(he.jsxs)("div",{className:"flex flex-col items-center justify-start",children:[Object(he.jsx)(r.c,{to:"#",className:"py-1 px-3 text-gray-500 hover:bg-gray-500 hover:text-gray-100 rounded-full uppercase text-sm",activeClassName:"active-navbar",onClick:d,children:"My List"}),Object(he.jsx)(r.c,{to:"#",className:"py-1 px-3 text-gray-500 hover:bg-gray-500 hover:text-gray-100 rounded-full uppercase text-sm",activeClassName:"active-navbar",onClick:d,children:"Random Pick"})]}),Object(he.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(he.jsx)(r.b,{to:"/profile",className:"my-2 btn-round text-primary border-primary hover:bg-primary",onClick:d,children:"Profile"}),Object(he.jsx)(r.b,{to:"/",className:"my-2 btn-round text-primary border-primary hover:bg-primary",onClick:function(){d(),o()},children:"Sign out"})]})]}):Object(he.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(he.jsx)(r.b,{to:"/login",className:"my-2 btn-round text-primary border-primary hover:bg-primary",onClick:d,children:"Sign in"}),Object(he.jsx)(r.b,{to:"/register",className:"my-2 btn-round text-primary border-primary hover:bg-primary",onClick:d,children:"Sign up"})]})})]})]})},lt=function(){return Object(he.jsx)("div",{className:"text-gray-500 bg-gray-200 text-sm h-32 sm:h-12",children:Object(he.jsx)("div",{className:"max-w-6xl mx-auto px-4 pt-4",children:Object(he.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0",children:[Object(he.jsxs)("div",{className:"uppercase space-x-4 sm:w-1/3 sm:text-left",children:[Object(he.jsx)(r.b,{to:"/contact",className:"hover:text-primary",children:Object(he.jsx)("span",{children:"Report issue"})}),Object(he.jsx)(r.b,{to:"/contact",className:"hover:text-primary",children:Object(he.jsx)("span",{children:"Feature request"})})]}),Object(he.jsxs)("div",{className:"space-x-4 sm:w-1/3 sm:text-center",children:[Object(he.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100008025733817",target:"_blank",className:"hover:text-primary",rel:"noopener noreferrer",children:Object(he.jsx)("i",{className:"fab fa-facebook-square  w-4"})}),Object(he.jsx)("a",{href:"https://github.com/badjin",target:"_blank",className:"hover:text-primary",rel:"noopener noreferrer",children:Object(he.jsx)("i",{className:"fab fa-github-square  w-4"})}),Object(he.jsx)("a",{href:"https://www.linkedin.com/in/jin-kim-469b07a1/",target:"_blank",className:"hover:text-primary",rel:"noopener noreferrer",children:Object(he.jsx)("i",{className:"fab fa-linkedin  w-4"})})]}),Object(he.jsx)("div",{className:"sm:w-1/3 sm:text-right",children:Object(he.jsx)("span",{children:"\xa9 Boardgame Lab. 2021"})})]})})})},ot=function(e){var t=e.history,s=Object(j.c)((function(e){return e.admin.settings})),c=Object(j.c)((function(e){return e.bgImage.bgImages})),n=Object(j.b)(),r=Object(Oe.a)(),l=r.register,o=r.handleSubmit,d=r.errors,b=r.reset,x=Object(a.useState)(!1),f=Object(m.a)(x,2),p=f[0],g=f[1],O=Object(a.useState)(!1),y=Object(m.a)(O,2),v=y[0],N=y[1],w=Object(a.useState)({db:"",theme:""}),k=Object(m.a)(w,2),C=k[0],S=k[1],L=Object(a.useState)(c[Math.floor(20*Math.random())].urls.regular),P=Object(m.a)(L,2),I=P[0],M=P[1];Object(a.useEffect)((function(){n(z()).then((function(e){S(e)})).catch((function(e){return u.b.error(e.response.data.error)}))}),[]);return Object(he.jsxs)("div",{className:"bj-container",children:[Object(he.jsx)("div",{className:"sm:w-1/2 xl:w-5/12 p-3 sm:p-6",children:Object(he.jsxs)("div",{className:"my-4 flex flex-col items-center",children:[Object(he.jsx)("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Site settings"}),Object(he.jsx)("form",{className:"w-full my-6 flex-1 text-indigo-500",onSubmit:o((function(e){n(je(e.theme)).then((function(t){var s,a;t.length&&(M(t[Math.floor(20*Math.random())].urls.regular),n((s=e,a=_().token,function(e){return new Promise((function(t,c){h.a.put("".concat("http://localhost:5000/api","/admin/settings/update"),s,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){e({type:E,payload:s}),t(!0)})).catch((function(t){e({type:A}),console.log(t.response),c(t)}))}))})).then((function(t){b(e)})).catch((function(e){return u.b.error(e.response.data.error)})))})).catch((function(t){b(e),u.b.error(t)}))})),children:Object(he.jsxs)("div",{className:"mx-auto max-w-xs",children:[Object(he.jsx)("label",{className:"text-gray-500 text-left font-bold  px-1",children:"Select Database"}),Object(he.jsx)("div",{className:"flex items-center justify-between px-3 py-1 mb-5 border-2 border-gray-300 rounded-lg",children:["MONGODB","FIREBASE"].map((function(e,t){return Object(he.jsxs)("div",{className:"flex items-center space-x-2 p-2",children:[Object(he.jsx)("input",{className:"tracking-wide cursor-pointer",type:"radio",value:e,checked:C.db===e,onChange:function(e){g(e.target.value!==s.db),S(Object(i.a)(Object(i.a)({},C),{},{db:e.target.value}))},name:"db",ref:l}),Object(he.jsx)("span",{className:"".concat(C.db===e&&"text-indigo-500"," uppercase text-gray-500"),children:e})]},t)}))}),Object(he.jsx)("label",{className:"text-gray-500 text-left font-bold px-1",children:"Set Theme"}),Object(he.jsx)("input",{name:"theme",className:"input-field",type:"text",placeholder:C.theme,onChange:function(e){N(e.target.value!==s.theme),S(Object(i.a)(Object(i.a)({},C),{},{theme:e.target.value}))},value:C.theme,ref:l({minLength:2,pattern:/[A-Za-z]/})}),d.theme&&Object(he.jsx)(ye,{filedName:"theme",type:d.theme.type}),Object(he.jsxs)("div",{className:"flex justify-between space-x-2 mt-6",children:[Object(he.jsxs)("button",{type:"submit",disabled:!p&&!v,className:"btn btn-submit",children:[Object(he.jsx)("i",{className:"fas fa-wrench fa 1x w-6 ".concat(!p&&!v&&"text-gray-400"," -ml-2")}),Object(he.jsx)("span",{className:"ml-3 ".concat(!p&&!v&&"text-gray-400"),children:"Apply"})]}),Object(he.jsxs)("button",{className:"btn bg-pink-500 text-gray-100 hover:bg-pink-700",onClick:function(){t.push("/")},children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Home"})]})]})]})})]})}),Object(he.jsx)("div",{className:"flex-1 bg-indigo-100 hidden lg:flex",children:Object(he.jsx)("div",{className:"w-full rounded-r-xl bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(I,")")},children:Object(he.jsx)("div",{className:"flex flex-col justify-end h-full rounded-r-xl absoluteinset-0 bg-indigo-900 bg-opacity-30",children:Object(he.jsx)("h1",{className:"p-12 text-left text-xl text-gray-100 tracking-wide",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quia quam laboriosam dolorum et quasi accusamus? Eius aliquam soluta illum quasi laborum suscipit consectetur id reiciendis! Veniam alias necessitatibus accusantium distinctio."})})})})]})},dt=function(){var e=Object(b.g)(),t=Object(b.h)(),s=Object(j.b)(),c=Object(a.useState)([]),n=Object(m.a)(c,2),r=n[0],i=n[1],l=Object(a.useState)(!0),o=Object(m.a)(l,2),d=o[0],x=o[1],h=Object(a.useState)(!0),p=Object(m.a)(h,2),g=p[0],O=p[1],y=Object(a.useState)(!1),v=Object(m.a)(y,2),N=v[0],w=v[1],k=Object(j.c)((function(e){return e.boardGames.games})),C=Object(j.c)((function(e){return e.boardGames.myList})),S=function(t,a,c){if(t.length)return i(t),x(c),void O(!1);s(a()).then((function(t){if(!t.length)return u.b.error("There is no data in your list. Select a game from the popular list or use the search bar to select a game and add it to your list."),void e.push("/games");i(t),x(c),O(!1)})).catch((function(e){return u.b.error(e)})),O(!1)},L=function(){C.length<5?u.b.error("The number of games on the list must be at least 5."):w(!0)};return Object(a.useEffect)((function(){"/games/mylist"===t.pathname?S(C,re,!1):S(k,ce,!0)}),[t]),g?Object(he.jsx)("div",{className:"flex items-center justify-center",children:Object(he.jsx)(f.BeatLoader,{color:"green",loading:g})}):Object(he.jsx)("div",{className:"max-w-screen-xl m-0 lg:m-10 bg-white shadow lg:rounded-lg w-screen",children:!g&&Object(he.jsxs)("div",{className:"flex flex-col px-10",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between py-5 sm:px-5 space-x-2 sm:space-x-5",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between w-1/2",children:[Object(he.jsx)("div",{className:"rounded-full px-2 text-xs font-bold border-2 border-yellow-500 bg-yellow-500",children:"Rank"}),Object(he.jsx)("button",{disabled:d,className:"uppercase ".concat(d?"text-primary cursor-default font-bold":"btn-text"),onClick:function(){S(k,ce,!0)},children:"Popular"})]}),Object(he.jsx)("div",{className:"h-8 w-1 bg-gray-500"}),Object(he.jsxs)("div",{className:"flex items-center justify-between w-1/2",children:[Object(he.jsx)("button",{disabled:!d,className:"uppercase ".concat(d?"btn-text":"text-primary cursor-default font-bold"),onClick:function(){_()?S(C,re,!1):e.push("/login")},children:"My List"}),Object(he.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(he.jsx)("button",{disabled:d,className:"rounded-full px-2 text-xs font-bold tracking-wider cursor-pointer border-2 transition ease-out duration-500 hover:text-white text-red-400 border-red-400 hover:bg-red-400 focus:outline-none hidden ".concat(!d&&"sm:block"),onClick:function(){return L()},children:"Random"}),Object(he.jsx)("div",{className:"rounded-full px-2 text-xs font-bold border-2 border-indigo-500 bg-indigo-500 text-gray-200",children:"Logs"})]})]})]}),Object(he.jsx)("button",{className:"btn-round mb-4 text-secondary-100 border-secondary-100 hover:bg-secondary-100 focus:outline-none sm:hidden ".concat(d&&"hidden"),onClick:function(){return L()},children:"Random"}),Object(he.jsx)("div",{className:"flex items-start justify-center px-5",children:r.length?Object(he.jsx)("div",{className:"sm:w-full sm:grid sm:grid-cols-3 lg:grid-cols-6 sm:gap-4",children:r.map((function(e,t){return Object(he.jsx)(Fe,{game:e,isPopular:d},t)}))}):Object(he.jsx)("div",{className:"text-red-500 mt-10",children:d?O(!0):Object(he.jsx)("span",{className:"",children:"There is no data stored yet."})})}),N&&!d&&Object(he.jsx)(Ue,{games:C,randomClick:function(){w(!1)},cancelClick:function(){return w(!1)}})]})})},mt=s(214),bt=s(209),jt=s.n(bt),ut=(s(388),function(e){var t=e.gameId,s=e.log,c=e.isEdit,n=e.isShow,r=e.submitClick,i=e.cancelClick,l=Object(Oe.a)({mode:"onChange",defaultValues:{gameId:t,comment:s.comment,playDate:s.playDate,players:s.players,playTime:s.playTime?s.playTime:null,winner:s.winner}}),o=l.register,d=l.handleSubmit,b=Object(j.c)((function(e){return e.user.userData})),x=Object(a.useState)(new Date(s.playDate)),h=Object(m.a)(x,2),f=h[0],p=h[1],g=Object(j.b)();return Object(he.jsx)("div",{className:"flex flex-col items-center justify-center bg-white",children:Object(he.jsx)("form",{className:"w-full my-6 flex-1 text-indigo-500",onSubmit:d((function(e){var a={_id:c?s._id:void 0,gameId:t,comment:e.comment,playDate:f,players:e.players,playTime:e.playTime,winner:e.winner};"guest"!==b.role?g(le(a,c)).then((function(e){u.b.success("This Playlog has been ".concat(c?"updated":"added"," to the game")),r(e.filter((function(e){return e.gameId===t})))})).catch((function(e){return u.b.error(e.response.data.error)})):u.b.error("You are logged in as a guest. Please sign up first.")})),children:Object(he.jsxs)("div",{className:"mx-auto max-w-xs uppercase text-sm",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsx)("span",{className:"text-gray-600 px-5",children:"Date"}),Object(he.jsx)(jt.a,{disabled:n,dateFormat:"dd/MM/yyyy",name:"date",className:"input-field text-gray-400",selected:f,onChange:function(e){return p(e)}})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsx)("span",{className:"text-gray-600 px-5 mr-2",children:"Players"}),Object(he.jsx)("input",{disabled:n,name:"players",className:"input-field text-gray-400",type:"text",placeholder:"Played with",ref:o({required:!0})})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsx)("span",{className:"text-gray-600 px-5 mr-3",children:"Winner"}),Object(he.jsx)("input",{disabled:n,name:"winner",className:"input-field text-gray-400",type:"text",placeholder:"Winner was...",ref:o()})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(he.jsx)("span",{className:"text-gray-600 px-5 mr-1",children:"PlayTime"}),Object(he.jsx)("input",{disabled:n,name:"playTime",className:"input-field text-gray-400",type:"number",min:"10",max:"360",step:"10",placeholder:"10 - 360 min",ref:o({required:!0,min:10,max:360})})]}),Object(he.jsx)("textarea",{disabled:n,name:"comment",className:"form-textarea p-2 rounded-lg border-2  block w-full",rows:"3",placeholder:"Please leave a brief game review.",ref:o({required:!0,minLenth:8})}),n?Object(he.jsx)("div",{className:"flex items-center",children:Object(he.jsxs)("button",{className:"btn mt-3 bg-pink-500 text-gray-100 hover:bg-pink-700",onClick:i,children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Close"})]})}):Object(he.jsxs)("div",{className:"flex space-x-2",children:[Object(he.jsxs)("button",{type:"submit",className:"btn btn-submit mt-3",children:[Object(he.jsx)("i",{className:"fas ".concat(c?"fa-edit":"fa-cloud-upload-alt"," fa-edit fa 1x w-6 } -ml-2")}),Object(he.jsx)("span",{className:"ml-3",children:c?"Update":"Submit"})]}),Object(he.jsxs)("button",{className:"btn mt-3 bg-pink-500 text-gray-100 hover:bg-pink-700",onClick:i,children:[Object(he.jsx)("i",{className:"fas fa-sign-in-alt fa 1x w-6  -ml-2"}),Object(he.jsx)("span",{className:"ml-3",children:"Close"})]})]})]})})})}),xt=function(e){var t=e.log,s=e.index,a=e.onShowBtnClick,c=e.onEditBtnClick,n=e.onDeleteBtnClick;return Object(he.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100 ".concat(s%2&&"bg-gray-50"),children:[Object(he.jsx)("td",{className:"hidden lg:block py-3 md:px-6 px-3 text-left whitespace-nowrap",children:Object(he.jsx)("div",{className:"flex items-center",children:Object(he.jsx)("span",{className:"font-medium",children:s+1})})}),Object(he.jsx)("td",{className:"py-3 md:px-6 px-3 text-left",children:Object(he.jsx)("span",{children:new Date(t.playDate).toLocaleDateString()})}),Object(he.jsx)("td",{className:"hidden sm:block mt-2 py-3 md:px-6 px-3 text-center",children:Object(he.jsx)("span",{className:"",children:t.players})}),Object(he.jsx)("td",{className:"mt-2 py-3 md:px-6 px-3 text-center",children:Object(he.jsx)("span",{className:"",children:t.winner})}),Object(he.jsx)("td",{className:"py-3 md:px-6 text-center",children:Object(he.jsxs)("span",{className:"",children:[t.playTime,"min."]})}),Object(he.jsx)("td",{className:"py-3 md:px-6 px-3 text-center",children:Object(he.jsxs)("div",{className:"flex item-center justify-center",children:[Object(he.jsx)("button",{className:"w-4 mr-2 transform hover:text-yellow-500 hover:scale-125 cursor-pointer focus:outline-none",onClick:function(){a(t)},children:Object(he.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),Object(he.jsx)("button",{className:"w-4 mr-2 transform hover:text-yellow-500 hover:scale-125 cursor-pointer focus:outline-none",onClick:function(){c(t)},children:Object(he.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),Object(he.jsx)("button",{className:"w-4 mr-2 transform hover:text-red-500 hover:scale-125 cursor-pointer focus:outline-none",onClick:function(){n(t)},children:Object(he.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(he.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})},ht=function(e){var t=e.logs,s=e.onEditBtn,c=e.onShowBtn,n=Object(j.b)(),r=Object(j.c)((function(e){return e.user.userData})),i=Object(a.useState)(!1),l=Object(m.a)(i,2),o=l[0],d=l[1],b=Object(a.useState)({logId:"",gameId:""}),x=Object(m.a)(b,2),f=x[0],p=x[1],g=Object(a.useState)(t),O=Object(m.a)(g,2),y=O[0],v=O[1],N=function(){"guest"!==r.role?n(function(e){var t=e.logId,s=e.gameId,a=_(),c=a.id,n=a.token;return function(e){return new Promise((function(a,r){h.a.post("".concat("http://localhost:5000/api","/games/logs/delete"),{id:c,logId:t,gameId:s},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e({type:te,payload:t.data}),a(t.data.logs)})).catch((function(t){e({type:se}),r(t)}))}))}}(f)).then((function(e){v(e.filter((function(e){return e.gameId===f.gameId})))})).catch((function(e){return u.b.error(e.response.data.error)})):u.b.error("You are logged in as a guest. Please sign up first.")};return Object(a.useEffect)((function(){v(t)}),[t]),Object(he.jsxs)("div",{className:"bg-white shadow-md rounded my-4 ".concat(!y.length&&"hidden"),children:[Object(he.jsxs)("table",{className:"min-w-max w-full table-auto",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[Object(he.jsx)("th",{className:"hidden lg:flex items-center py-3 md:px-6 px-3 text-left",children:"No"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-left",children:"Date"}),Object(he.jsx)("th",{className:"hidden sm:block py-3 md:px-6 px-3 text-center",children:"Players"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-center",children:"Winner"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-center",children:"Playtime"}),Object(he.jsx)("th",{className:"py-3 md:px-6 px-3 text-center",children:"Actions"})]})}),Object(he.jsx)("tbody",{className:"text-gray-600 text-sm font-light",children:y.map((function(e,t){return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(xt,{log:e,index:t,onDeleteBtnClick:function(e){p({logId:e._id,gameId:e.gameId}),d(!0)},onEditBtnClick:function(e){return s(e)},onShowBtnClick:function(e){return c(e)}},t)})}))})]}),o&&Object(he.jsx)(Be,{title:"Delete this log",btn:"Delete",message:"This play log will be removed from this game.",confirmClick:function(){N(),d(!1)},cancelClick:function(){return d(!1)}})]})},ft=function(e){var t=e.match,s=Object(b.h)(),c=Object(b.g)(),n=Object(j.b)(),r=Object(a.useState)(Object(j.c)((function(e){return e.boardGames.myList}))),l=Object(m.a)(r,2),o=l[0],d=l[1],x=Object(a.useState)(Object(j.c)((function(e){return e.boardGames.playLogs}))),p=Object(m.a)(x,2),g=p[0],O=p[1],y=Object(j.c)((function(e){return e.user.userData})),v=Object(a.useState)(""),N=Object(m.a)(v,2),w=N[0],k=N[1],C=Object(a.useState)(""),S=Object(m.a)(C,2),L=S[0],P=S[1],I=Object(a.useState)(!0),M=Object(m.a)(I,2),B=M[0],D=M[1],E=Object(a.useState)(!1),A=Object(m.a)(E,2),z=A[0],T=A[1],q=Object(a.useState)(!1),G=Object(m.a)(q,2),F=G[0],U=G[1],Y=Object(a.useState)(!1),K=Object(m.a)(Y,2),$=K[0],Q=K[1],X=Object(a.useState)(!1),ee=Object(m.a)(X,2),te=ee[0],se=ee[1],ae=Object(a.useState)([]),ce=Object(m.a)(ae,2),ne=ce[0],le=ce[1],oe=Object(a.useState)({gameId:"",comment:"",playData:new Date,players:"",playTime:0,winner:""}),de=Object(m.a)(oe,2),me=de[0],be=de[1],je=Object(a.useState)(!1),ue=Object(m.a)(je,2),xe=ue[0],fe=ue[1],pe=Object(a.useState)(!1),ge=Object(m.a)(pe,2),Oe=ge[0],ye=ge[1];Object(a.useEffect)((function(){var e;o.length?U(o.length&&o.find((function(e){return e.gameId===t.params.id}))):n(re()).then((function(e){d(e),U(e.find((function(e){return e.gameId===t.params.id})))})),g.length||n(ie()).then((function(e){return O(e)})),n((e=t.params.id,function(t){return new Promise((function(s,a){h()("https://api.boardgameatlas.com/api/search?ids=".concat(e,"&client_id=").concat("KGbexBtHW9 #for bgLab")).then((function(e){t({type:R,payload:e.data.games[0]}),s(e.data.games[0])})).catch((function(e){t({type:W}),a(e)}))}))})).then((function(e){le(g.filter((function(t){return t.gameId===e.id}))),k(e),P(t.params.id),D(!1)}))}),[s.pathname]);var ve=function(){"guest"!==y.role?n(function(e){var t=_(),s=t.id,a=t.token;return function(t){return new Promise((function(c,n){h.a.post("".concat("http://localhost:5000/api","/games/delete"),{id:s,gameId:e},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t({type:Z,payload:e.data.gamelist}),c(e.data.gameList)})).catch((function(e){t({type:J}),n(e)}))}))}}(L)).then((function(e){u.b.success("This game has been removed from the list"),D(!1),c.push("/games/mylist")})).catch((function(e){return u.b.error(e)})):u.b.error("You are logged in as a guest. Please sign up first.")},Ne=function(e){"guest"!==y.role?n(function(e){var t=_(),s=t.id,a=t.token;return function(t){return new Promise((function(c,n){h.a.post("".concat("http://localhost:5000/api","/games/add"),{id:s,game:e},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){t({type:H,payload:e.data.gameList}),c(e.data.gameList)})).catch((function(e){t({type:V}),n(e)}))}))}}(e)).then((function(e){u.b.success("This game has been added to the list"),D(!1),c.push("/games/mylist")})).catch((function(e){return u.b.error(e)})):u.b.error("You are logged in as a guest. Please sign up first.")},we={size:14,value:w.average_user_rating,isHalf:!0,edit:!1};return L?Object(he.jsx)("div",{className:"max-w-screen-xl m-0 md:m-10 lg:mx-20 xl:mx-32 bg-white shadow lg:rounded-lg md:h-2/3",children:w&&Object(he.jsxs)("div",{className:"flex flex-col p-3",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between",children:[Object(he.jsx)("div",{children:F?Object(he.jsxs)("button",{className:"btn-round text-primary border-white hover:bg-primary focus:outline-none",onClick:function(){return _()?T(!0):c.push("/login")},children:[Object(he.jsx)("i",{className:"fas fa-trash-alt w-6"}),"Delete"]}):Object(he.jsxs)("button",{className:"btn-round text-primary border-white hover:bg-primary focus:outline-none",onClick:function(){return _()?T(!0):c.push("/login")},children:[Object(he.jsx)("i",{className:"fas fa-plus w-6"}),"Add"]})}),Object(he.jsx)("div",{className:"flex items-center",children:Object(he.jsxs)("button",{className:"btn-round text-primary border-white hover:bg-primary focus:outline-none",onClick:function(){return F?c.push("/games/mylist"):c.push("/games")},children:[Object(he.jsx)("i",{className:"fas fa-undo-alt w-6"}),"List"]})})]}),Object(he.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start p-10 sm:space-x-4",children:[Object(he.jsxs)("div",{className:"sm:w-1/2  overflow-hidden",children:[Object(he.jsx)("div",{className:"flex justify-center",children:Object(he.jsx)("img",{className:"h-64 bg-cover bg-center bg-no-repeat rounded",src:w.image_url,alt:"Title"})}),Object(he.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[Object(he.jsxs)("div",{className:"flex items-center justify-start space-x-2",children:[Object(he.jsx)(Ge.a,Object(i.a)({},we)),Object(he.jsxs)("span",{className:"text-sm",children:[Number(w.average_user_rating).toFixed(1)," / 5"]}),Object(he.jsxs)("span",{className:"block text-xs",children:["(",w.num_user_ratings," ratings)"]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("span",{className:"text-sm",children:"Rank"}),Object(he.jsx)("span",{className:"text-sm rounded-full border-gray-800 bg-yellow-500 text-gray-800 px-2 py-1 ml-1",children:w.rank})]})]}),Object(he.jsxs)("div",{className:"mt-2",children:[Object(he.jsxs)("div",{className:"flex items-center justify-between",children:[Object(he.jsxs)("div",{children:[Object(he.jsx)("i",{className:"fas fa-users w-6 text-primary"}),Object(he.jsxs)("span",{children:[w.min_players," - ",w.max_players]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("i",{className:"fas fa-clock w-6 text-primary"}),Object(he.jsxs)("span",{children:[w.min_playtime," - ",w.max_playtime]})]})]}),Object(he.jsxs)("div",{className:"flex items-center justify-between",children:[Object(he.jsxs)("div",{className:"ml-1",children:[Object(he.jsx)("i",{className:"fas fa-user w-6 text-primary"}),Object(he.jsxs)("span",{children:[w.min_age,"+"]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("i",{className:"fas fa-calendar-alt w-6 text-primary"}),Object(he.jsx)("span",{children:w.year_published})]})]})]}),Object(he.jsxs)("div",{className:"my-3 flex items-center justify-between text-sm px-2",children:[w.rules_url&&Object(he.jsx)("a",{href:"".concat(w.rules_url),target:"_blank",className:"btn-text ",rel:"noopener noreferrer",children:"See Rules"}),w.url&&Object(he.jsx)("a",{href:"".concat(w.url),target:"_blank",className:"btn-text ",rel:"noopener noreferrer",children:"More information"})]})]}),Object(he.jsxs)("div",{className:"relative sm:w-1/2 text-sm sm:px-5 sm:mt-0 mt-5",children:[te&&Object(he.jsx)("div",{className:"absolute inset-0 -mt-8 text-base",children:Object(he.jsx)(ut,{gameId:L,log:me,isEdit:xe,isShow:Oe,submitClick:function(e){le(e),se(!1)},cancelClick:function(){return se(!1)}})}),Object(he.jsx)("h2",{className:"text-2xl text-gray-500 mb-1",children:w.name}),$?Object(he.jsx)("div",{children:w.description_preview}):Object(he.jsx)(mt.a,{lines:16,ellipsis:Object(he.jsx)("div",{className:"text-right text-sm mt-3 ".concat(te&&"hidden"),children:Object(he.jsx)("button",{className:"btn-text",onClick:function(){return Q(!0)},children:"Show more"})}),children:Object(he.jsx)("div",{children:w.description_preview})}),$&&Object(he.jsx)("div",{className:"text-right text-sm mt-3",children:Object(he.jsx)("button",{className:"btn-text",onClick:function(){return Q(!1)},children:"Hide content"})})]})]}),F&&Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("div",{className:"flex items-center justify-end mt-3 sm:-mt-3",children:Object(he.jsxs)("button",{className:"btn-round text-primary border-white hover:bg-primary focus:outline-none",onClick:function(){be({gameId:"",comment:"",playDate:new Date,players:"",playTime:0,winner:""}),Q(!1),se(!0),fe(!1),ye(!1)},children:[Object(he.jsx)("i",{className:"fas fa-edit w-6"}),"Play log"]})}),ne.length>0&&Object(he.jsx)(ht,{logs:ne,onEditBtn:function(e){te||(be(e),se(!0),ye(!1),fe(!0))},onShowBtn:function(e){te||(be(e),se(!0),ye(!0),fe(!0))}})]}),z&&Object(he.jsx)(Be,{title:"".concat(F?"Delete":"Add"," this game"),btn:"".concat(F?"Delete":"Add"),message:"This game will be ".concat(F?"removed from":"added to"," your game list."),confirmClick:function(){F?ve():Ne(w),T(!1)},cancelClick:function(){return T(!1)}})]})}):Object(he.jsx)("div",{className:"flex items-center justify-center",children:Object(he.jsx)(f.BeatLoader,{color:"green",loading:B})})},pt=function(){var e=Object(j.b)(),t=Object(b.h)(),s=Object(b.g)(),c=Object(a.useState)(!0),n=Object(m.a)(c,2),r=n[0],l=n[1],x=Object(a.useState)(!1),p=Object(m.a)(x,2),g=p[0],O=p[1],v={success:"bg-green-600",error:"bg-red-600",info:"bg-gray-600",warning:"bg-orange-400",default:"bg-indigo-600",dark:"bg-white-600 font-gray-300"},N=function(){var t=Object(d.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=_()){t.next=3;break}return t.abrupt("return",!1);case 3:return t.prev=3,t.next=6,h.a.get("".concat("http://localhost:5000/api","/user/").concat(a.id),{headers:{Authorization:"Bearer ".concat(a.token)}});case 6:if(!(c=t.sent)){t.next=10;break}return e((n=c.data,{type:y,payload:n})),t.abrupt("return",!0);case 10:return t.abrupt("return",!1);case 13:return t.prev=13,t.t0=t.catch(3),e(de()).then((function(){s.push("/"),u.b.error(t.t0.response.data.error)})),t.abrupt("return",!1);case 17:case"end":return t.stop()}var n}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){e(z()).then((function(t){e(je(t.theme)).then((function(e){l(!1)}))}))}),[]),Object(a.useEffect)((function(){O(!1),N(),O(!0)}),[t]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(it,{}),r?Object(he.jsx)("div",{className:"bj-content items-center",children:Object(he.jsx)(f.BeatLoader,{color:"green",loading:r})}):Object(he.jsxs)("div",{className:"bj-content",children:[Object(he.jsx)(u.a,{className:"mt-11",toastClassName:function(e){var t=e.type;return v[t||"default"]+" relative flex p-1 min-h-10 rounded-md justify-between overflow-hidden cursor-pointer"},bodyClassName:function(){return"text-sm font-white font-med block p-3"},position:"top-right",autoClose:3e3}),g&&Object(he.jsxs)(b.d,{children:[Object(he.jsx)(ge,{exact:!0,path:"/register",component:Ne}),Object(he.jsx)(ge,{exact:!0,path:"/login",component:_e}),Object(he.jsx)(ge,{exact:!0,path:"/users/activate/:token",component:Ce}),Object(he.jsx)(ge,{exact:!0,path:"/users/password/forget",component:Pe}),Object(he.jsx)(ge,{exact:!0,path:"/users/password/reset/:token",component:Ie}),Object(he.jsx)(fe,{exact:!0,path:"/profile",component:Te}),Object(he.jsx)(fe,{exact:!0,path:"/games/mylist",component:dt}),Object(he.jsx)(pe,{exact:!0,path:"/admin/users",component:Ae}),Object(he.jsx)(pe,{exact:!0,path:"/admin/settings",component:ot}),Object(he.jsx)(pe,{exact:!0,path:"/admin/users/:id",component:ze}),Object(he.jsx)(b.b,{exact:!0,path:"/games/:id",render:function(e){return Object(he.jsx)(ft,Object(i.a)({},e))}}),Object(he.jsx)(b.b,{exact:!0,path:"/games",render:function(e){return Object(he.jsx)(dt,Object(i.a)({},e))}}),Object(he.jsx)(b.b,{exact:!0,path:"/about",render:function(e){return Object(he.jsx)(Qe,Object(i.a)({},e))}}),Object(he.jsx)(b.b,{exact:!0,path:"/contact",render:function(e){return Object(he.jsx)(tt,Object(i.a)({},e))}}),Object(he.jsx)(b.b,{exact:!0,path:"/",render:function(e){return Object(he.jsx)(He,Object(i.a)({},e))}}),Object(he.jsx)(b.a,{to:"/"})]})]}),Object(he.jsx)(lt,{})]})},gt=s(38),Ot={userData:"",isLogin:!1,errorMessage:""},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case N:return{state:Ot};case w:case y:case p:return Object(i.a)(Object(i.a)({},e),{},{userData:t.payload.user,isLogin:t.payload.success,errorMessage:""});case k:case g:return Object(i.a)(Object(i.a)({},e),{},{errorMessage:t.payload.error,isLogin:t.payload.success});case O:return{state:Ot};default:return e}},vt={bgImages:[],isLoading:!1,errorMessage:"",currentBgImage:""},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(i.a)(Object(i.a)({},e),{},{bgImages:t.payload,isLoading:!1,errorMessage:""});case be:return Object(i.a)(Object(i.a)({},e),{},{currentBgImage:t.payload});default:return e}},wt={users:[],totalPages:0,errorMessage:"",settings:{db:"MONGODB",theme:"flowers"}},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(i.a)(Object(i.a)({},e),{},{users:t.payload.users,totalPages:t.payload.totalPages,errorMessage:""});case M:return Object(i.a)(Object(i.a)({},e),{},{users:"",totalPages:0,errorMessage:""});case E:case B:return Object(i.a)(Object(i.a)({},e),{},{settings:t.payload});case A:case D:return Object(i.a)(Object(i.a)({},e),{},{settings:{db:"MONGODB",theme:"flowers"}});default:return e}},Ct={games:[],game:"",myList:[],myGame:"",playLogs:[],playLog:"",errorMessage:"",loading:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(i.a)(Object(i.a)({},e),{},{games:t.payload,loading:!1});case q:return Object(i.a)(Object(i.a)({},e),{},{games:[]});case Y:case F:return Object(i.a)(Object(i.a)({},e),{},{myList:[]});case R:return Object(i.a)(Object(i.a)({},e),{},{game:t.payload,loading:!1});case W:return Object(i.a)(Object(i.a)({},e),{},{game:""});case U:return Object(i.a)(Object(i.a)({},e),{},{game:t.payload});case K:case H:case Z:return Object(i.a)(Object(i.a)({},e),{},{myList:t.payload});case V:case J:return{state:e};case ae:case $:return Object(i.a)(Object(i.a)({},e),{},{playLogs:t.payload});case Q:return Object(i.a)(Object(i.a)({},e),{},{playLogs:[]});case G:case X:case te:return Object(i.a)(Object(i.a)({},e),{},{playLogs:t.payload.logs,myList:t.payload.gameList});case ee:case se:return{state:e};default:return e}},Lt=Object(gt.combineReducers)({user:yt,bgImage:Nt,admin:kt,boardGames:St}),_t=s(212),Pt=s(213),It=[_t.a],Mt=Object(gt.createStore)(Lt,Object(Pt.composeWithDevTools)(gt.applyMiddleware.apply(void 0,It)));n.a.render(Object(he.jsx)(j.a,{store:Mt,children:Object(he.jsx)(r.a,{children:Object(he.jsx)(pt,{})})}),document.getElementById("root"))}},[[471,1,2]]]);
//# sourceMappingURL=main.5c6d8f20.chunk.js.map